<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Helper functions in SSMSE | SSMSE user manual</title>
  <meta name="description" content="This is a user manual for the SSMSE package. It includes documentation and examples." />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Helper functions in SSMSE | SSMSE user manual" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a user manual for the SSMSE package. It includes documentation and examples." />
  <meta name="github-repo" content="nmfs-fish-tools/SSMSE" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Helper functions in SSMSE | SSMSE user manual" />
  
  <meta name="twitter:description" content="This is a user manual for the SSMSE package. It includes documentation and examples." />
  

<meta name="author" content="Kathryn Doering and Nathan Vaughan" />


<meta name="date" content="2024-04-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="SSMSE.html"/>
<link rel="next" href="output.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-session-information"><i class="fa fa-check"></i>R session information</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#purpose"><i class="fa fa-check"></i><b>1.1</b> Purpose</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#funs"><i class="fa fa-check"></i><b>1.2</b> Functions in SSMSE</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#brief-description-of-the-ssmse-mse-simulation-procedure-using-run_ssmse"><i class="fa fa-check"></i><b>1.3</b> Brief description of the SSMSE MSE simulation procedure using <code>run_SSMSE()</code></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#conditioning-the-om-and-sampling-from-the-om"><i class="fa fa-check"></i><b>1.3.1</b> Conditioning the OM and sampling from the OM</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#first-run-of-the-management-strategy-in-the-mse-simulation"><i class="fa fa-check"></i><b>1.3.2</b> First run of the management strategy in the MSE simulation</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#feedback-from-managment-strategy-into-om-extending-model-years"><i class="fa fa-check"></i><b>1.3.3</b> Feedback from managment strategy into OM: extending model years</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro.html"><a href="intro.html#subsequent-runs-of-the-management-strategy"><i class="fa fa-check"></i><b>1.3.4</b> Subsequent runs of the management strategy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="simple.html"><a href="simple.html"><i class="fa fa-check"></i><b>2</b> A simple example</a>
<ul>
<li class="chapter" data-level="2.1" data-path="simple.html"><a href="simple.html#setup-r-workspace-folders"><i class="fa fa-check"></i><b>2.1</b> Setup R workspace folders</a></li>
<li class="chapter" data-level="2.2" data-path="simple.html"><a href="simple.html#create-the-operating-models-oms"><i class="fa fa-check"></i><b>2.2</b> Create the operating models (OMs)</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="simple.html"><a href="simple.html#specify-alternative-values-for-h"><i class="fa fa-check"></i><b>2.2.1</b> Specify alternative values for h</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="simple.html"><a href="simple.html#adding-process-error-through-recruitment-deviations-and-time-varying-selectivity"><i class="fa fa-check"></i><b>2.3</b> Adding process error through recruitment deviations and time-varying selectivity</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="simple.html"><a href="simple.html#add-observation-error-through-sampling-from-om"><i class="fa fa-check"></i><b>2.3.1</b> Add observation error through sampling from OM</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="simple.html"><a href="simple.html#examine-the-management-procedure-used"><i class="fa fa-check"></i><b>2.4</b> Examine the management procedure used</a></li>
<li class="chapter" data-level="2.5" data-path="simple.html"><a href="simple.html#run-ssmse"><i class="fa fa-check"></i><b>2.5</b> Run SSMSE</a></li>
<li class="chapter" data-level="2.6" data-path="simple.html"><a href="simple.html#run_ssmse-output"><i class="fa fa-check"></i><b>2.6</b> run_SSMSE output</a></li>
<li class="chapter" data-level="2.7" data-path="simple.html"><a href="simple.html#performance-metrics"><i class="fa fa-check"></i><b>2.7</b> Performance metrics</a></li>
<li class="chapter" data-level="2.8" data-path="simple.html"><a href="simple.html#summarize-results"><i class="fa fa-check"></i><b>2.8</b> Summarize results</a></li>
<li class="chapter" data-level="2.9" data-path="simple.html"><a href="simple.html#simple-convergence-check"><i class="fa fa-check"></i><b>2.9</b> Simple Convergence Check</a></li>
<li class="chapter" data-level="2.10" data-path="simple.html"><a href="simple.html#plot-spawning-stock-biomass-ssb"><i class="fa fa-check"></i><b>2.10</b> Plot Spawning Stock Biomass (SSB)</a></li>
<li class="chapter" data-level="2.11" data-path="simple.html"><a href="simple.html#example-mse-results"><i class="fa fa-check"></i><b>2.11</b> Example MSE Results</a></li>
<li class="chapter" data-level="2.12" data-path="simple.html"><a href="simple.html#delete-the-files"><i class="fa fa-check"></i><b>2.12</b> Delete the files</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="M-case-study-ex.html"><a href="M-case-study-ex.html"><i class="fa fa-check"></i><b>3</b> A more complex example, Natural Mortality case study</a></li>
<li class="chapter" data-level="4" data-path="SSMSE.html"><a href="SSMSE.html"><i class="fa fa-check"></i><b>4</b> Options for run_SSMSE</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SSMSE.html"><a href="SSMSE.html#scenarios-in-ssmse"><i class="fa fa-check"></i><b>4.1</b> Scenarios in SSMSE</a></li>
<li class="chapter" data-level="4.2" data-path="SSMSE.html"><a href="SSMSE.html#operating-model"><i class="fa fa-check"></i><b>4.2</b> Operating model</a></li>
<li class="chapter" data-level="4.3" data-path="SSMSE.html"><a href="SSMSE.html#the-management-strategy-and-if-applicable-estimation-model-em"><i class="fa fa-check"></i><b>4.3</b> The Management Strategy and (if applicable) Estimation model (EM)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="SSMSE.html"><a href="SSMSE.html#specify-the-management-strategy-in-a-ss3-model"><i class="fa fa-check"></i><b>4.3.1</b> Specify the Management Strategy in a SS3 model</a></li>
<li class="chapter" data-level="4.3.2" data-path="SSMSE.html"><a href="SSMSE.html#custom-MS"><i class="fa fa-check"></i><b>4.3.2</b> Using a custom management strategy/procedure</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="SSMSE.html"><a href="SSMSE.html#sampling-options"><i class="fa fa-check"></i><b>4.4</b> Sampling options</a></li>
<li class="chapter" data-level="4.5" data-path="SSMSE.html"><a href="SSMSE.html#future"><i class="fa fa-check"></i><b>4.5</b> Projecting the operating model</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SSMSE.html"><a href="SSMSE.html#structurefutureom"><i class="fa fa-check"></i><b>4.5.1</b> The structure of <code>future_om_list</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="SSMSE.html"><a href="SSMSE.html#example-of-future_om_list-denoting-a-gradual-change"><i class="fa fa-check"></i><b>4.5.2</b> Example of future_om_list denoting a gradual change</a></li>
<li class="chapter" data-level="4.5.3" data-path="SSMSE.html"><a href="SSMSE.html#example-of-future_om_list-with-random-deviations"><i class="fa fa-check"></i><b>4.5.3</b> Example of future_om_list with random deviations</a></li>
<li class="chapter" data-level="4.5.4" data-path="SSMSE.html"><a href="SSMSE.html#example-of-using-historical-values-for-determining-parameter-values"><i class="fa fa-check"></i><b>4.5.4</b> Example of using historical values for determining parameter values</a></li>
<li class="chapter" data-level="4.5.5" data-path="SSMSE.html"><a href="SSMSE.html#example-using-custom-pattern-instead-of-model_change"><i class="fa fa-check"></i><b>4.5.5</b> Example using “custom” pattern instead of “model_change”</a></li>
<li class="chapter" data-level="4.5.6" data-path="SSMSE.html"><a href="SSMSE.html#how-is-the-operating-modified-to-accomodate-changes-as-specified-in-the-future_om_list"><i class="fa fa-check"></i><b>4.5.6</b> How is the operating modified to accomodate changes as specified in the future_OM_list?</a></li>
<li class="chapter" data-level="4.5.7" data-path="SSMSE.html"><a href="SSMSE.html#example-of-specifying-recruitment-deviations"><i class="fa fa-check"></i><b>4.5.7</b> Example of specifying recruitment deviations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="helper.html"><a href="helper.html"><i class="fa fa-check"></i><b>5</b> Helper functions in SSMSE</a>
<ul>
<li class="chapter" data-level="5.1" data-path="helper.html"><a href="helper.html#devOM"><i class="fa fa-check"></i><b>5.1</b> Creating multiple operating models with <code>develop_OMs()</code></a></li>
<li class="chapter" data-level="5.2" data-path="helper.html"><a href="helper.html#samplelist"><i class="fa fa-check"></i><b>5.2</b> Set up sampling for a scenario with <code>create_sample_struct()</code></a></li>
<li class="chapter" data-level="5.3" data-path="helper.html"><a href="helper.html#omlist"><i class="fa fa-check"></i><b>5.3</b> Get examples of the <code>future_om_list</code> input with <code>create_future_om_list()</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="output.html"><a href="output.html"><i class="fa fa-check"></i><b>6</b> Output and Plots</a>
<ul>
<li class="chapter" data-level="6.1" data-path="output.html"><a href="output.html#summarizing-output"><i class="fa fa-check"></i><b>6.1</b> Summarizing output</a></li>
<li class="chapter" data-level="6.2" data-path="output.html"><a href="output.html#checking-estimation-model-convergence"><i class="fa fa-check"></i><b>6.2</b> Checking estimation model convergence</a></li>
<li class="chapter" data-level="6.3" data-path="output.html"><a href="output.html#calculating-performance-metrics"><i class="fa fa-check"></i><b>6.3</b> Calculating performance metrics</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="plotting-output-and-performance-metrics.html"><a href="plotting-output-and-performance-metrics.html"><i class="fa fa-check"></i><b>7</b> Plotting output and performance metrics</a></li>
<li class="chapter" data-level="8" data-path="glossary-of-mse-terms.html"><a href="glossary-of-mse-terms.html"><i class="fa fa-check"></i><b>8</b> Glossary of MSE terms</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SSMSE user manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="helper" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Helper functions in SSMSE<a href="helper.html#helper" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><code>run_SSMSE()</code> requires some detailed inputs that are time consuming to make. In the interest of automating routines as much as possible, helper functions are available in SSMSE.</p>
<div id="devOM" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Creating multiple operating models with <code>develop_OMs()</code><a href="helper.html#devOM" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This function allows users to change a parameter in a Stock Synthesis OM and, if desired, refit the operating model to data. Typically, users will want to create multiple operating models to use in different scenarios in order to account for uncertainties in parameter values, such as biological parameters relating to natural mortality or growth.</p>
</div>
<div id="samplelist" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Set up sampling for a scenario with <code>create_sample_struct()</code><a href="helper.html#samplelist" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>run_SSMSE()</code> requires the input <code>sample_struct</code>, which outlines the future sampling structure to use to generate data sets. This object could be difficult to create manually and users may want to just continue sampling as previously done in an existing SS3 model. <code>create_sample_struct()</code> will use the time patterns in sampling for different data types found in an SS3 data file and extend it forward in time. If no pattern is found, the function will return NAs and provide a warning to the user. If any NAs are returned (except to indicate that an entire data type is missing), the user will need to remove or fill in the NA value before usign the list as an input to <code>run_SSMSE()</code>.</p>
<p>See <a href="simple.html#simple">use of <code>create_sample_struct()</code> in simple example</a>.</p>
</div>
<div id="omlist" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Get examples of the <code>future_om_list</code> input with <code>create_future_om_list()</code><a href="helper.html#omlist" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Users can modify the future structure of their operating model through the <code>future_om_list</code> input to <code>run_SSMSE</code>. The structure and names of this object matter, so examples are provided by calling <code>create_future_om_list()</code>.</p>
<p>See <a href="SSMSE.html#future">more details about the specification of future_om_list objects</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="SSMSE.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="output.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
